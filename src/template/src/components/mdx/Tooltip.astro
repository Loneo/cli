---
/**
 * Tooltip - Hover tooltip for additional information
 * Usage:
 * <Tooltip content="Additional info">Hover over me</Tooltip>
 */
interface Props {
  content: string;
  tip?: string; // Alias for backward compatibility
}

const { content, tip } = Astro.props;
const tooltipText = content || tip || '';
---

<span class="tooltip-wrapper">
  <span class="tooltip-trigger">
    <slot />
  </span>
  <span class="tooltip-content">{tooltipText}</span>
</span>

<style>
  @reference "../../styles/global.css";
  .tooltip-wrapper {
    @apply relative inline-block;
  }
  
  .tooltip-trigger {
    @apply border-b border-dashed border-muted-foreground cursor-help;
  }
  
  .tooltip-content {
    @apply absolute z-50 bottom-full left-1/2 -translate-x-1/2 mb-2;
    @apply px-3 py-1.5 text-xs whitespace-nowrap;
    @apply bg-popover text-popover-foreground border border-border rounded shadow-lg;
    @apply opacity-0 invisible transition-all duration-200;
    @apply pointer-events-none;
  }
  
  .tooltip-content::after {
    content: '';
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    border: 5px solid transparent;
    border-top-color: oklch(var(--popover));
  }
  
  .tooltip-wrapper:hover .tooltip-content {
    @apply opacity-100 visible;
  }
</style>
