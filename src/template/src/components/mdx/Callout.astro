---
/**
 * Callout - Enhanced alert/admonition component (Mintlify-style)
 * Usage:
 * <Callout type="note" title="Note">This is important info</Callout>
 * <Callout type="warning">Be careful!</Callout>
 */
interface Props {
  type?: 'note' | 'tip' | 'info' | 'warning' | 'danger' | 'check';
  title?: string;
  icon?: string;
}

const { type = 'note', title, icon } = Astro.props;

const configs = {
  note: {
    bg: 'bg-blue-950/40',
    border: 'border-blue-800/50',
    icon: 'üí°',
    iconBg: 'bg-blue-900/50',
    title: 'Note',
    text: 'text-blue-200'
  },
  tip: {
    bg: 'bg-emerald-950/40',
    border: 'border-emerald-800/50',
    icon: '‚ú®',
    iconBg: 'bg-emerald-900/50',
    title: 'Tip',
    text: 'text-emerald-200'
  },
  info: {
    bg: 'bg-cyan-950/40',
    border: 'border-cyan-800/50',
    icon: '‚ÑπÔ∏è',
    iconBg: 'bg-cyan-900/50',
    title: 'Info',
    text: 'text-cyan-200'
  },
  warning: {
    bg: 'bg-amber-950/40',
    border: 'border-amber-800/50',
    icon: '‚ö†Ô∏è',
    iconBg: 'bg-amber-900/50',
    title: 'Warning',
    text: 'text-amber-200'
  },
  danger: {
    bg: 'bg-red-950/40',
    border: 'border-red-800/50',
    icon: 'üö®',
    iconBg: 'bg-red-900/50',
    title: 'Danger',
    text: 'text-red-200'
  },
  check: {
    bg: 'bg-green-950/40',
    border: 'border-green-800/50',
    icon: '‚úÖ',
    iconBg: 'bg-green-900/50',
    title: 'Success',
    text: 'text-green-200'
  }
};

const config = configs[type] || configs.note;
const displayTitle = title || config.title;
const displayIcon = icon || config.icon;
---

<div class={`callout not-prose ${config.bg} ${config.border}`}>
  <div class={`callout-icon ${config.iconBg}`}>
    <span>{displayIcon}</span>
  </div>
  <div class="callout-content">
    <div class={`callout-title ${config.text}`}>{displayTitle}</div>
    <div class="callout-body">
      <slot />
    </div>
  </div>
</div>

<style>
  @reference "../../styles/global.css";
  .callout {
    @apply flex gap-4 p-4 my-6 rounded border;
  }
  
  .callout-icon {
    @apply flex-shrink-0 w-10 h-10 rounded flex items-center justify-center text-lg;
  }
  
  .callout-content {
    @apply flex-1 min-w-0;
  }
  
  .callout-title {
    @apply font-semibold text-sm mb-1;
  }
  
  .callout-body {
    @apply text-sm text-muted-foreground leading-relaxed;
  }
  
  .callout-body :global(p) {
    @apply my-1;
  }
  
  .callout-body :global(p:last-child) {
    @apply mb-0;
  }
  
  .callout-body :global(code) {
    @apply px-1.5 py-0.5 rounded bg-muted text-foreground text-xs border border-border;
  }
</style>
