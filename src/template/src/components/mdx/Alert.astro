---
interface Props {
  type?: 'note' | 'tip' | 'important' | 'warning' | 'caution' | 'default';
  title?: string;
}

const { type = 'default', title } = Astro.props;

// Map types to styles and icons
const configs = {
  default: {
    style: 'text-muted-foreground bg-muted border-border',
    iconPath: 'M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z' // Simple info icon
  },
  note: {
    style: 'text-blue-400 bg-blue-950/30 border-blue-900/50',
    iconPath: 'M10 11h2v5m-2 0h4m-2.592-8.5h.01M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z'
  },
  tip: {
    style: 'text-emerald-400 bg-emerald-950/30 border-emerald-900/50',
    iconPath: 'M10 11h2v5m-2 0h4m-2.592-8.5h.01M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z' // Info icon for now, or check-circle
  },
  important: {
    style: 'text-violet-400 bg-violet-950/30 border-violet-900/50',
    iconPath: 'M10 11h2v5m-2 0h4m-2.592-8.5h.01M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z'
  },
  warning: {
    style: 'text-amber-400 bg-amber-950/30 border-amber-900/50',
    iconPath: 'M10 11h2v5m-2 0h4m-2.592-8.5h.01M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z'
  },
  caution: {
    style: 'text-red-400 bg-red-950/30 border-red-900/50',
    iconPath: 'M10 11h2v5m-2 0h4m-2.592-8.5h.01M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z'
  }
};

// Override icons if needed to match the user's SVG paths more closely or use specific ones
// The user provided the same icon path for all examples in the snippet (M10 11h...), which is an "info" icon.
// I will stick to that for consistency with the request, or I could vary them. 
// Let's use the user's provided SVG structure.

const config = configs[type] || configs.default;
---

<div class={`flex p-4 mb-4 text-sm rounded border not-prose ${config.style}`} role="alert">
  <svg class="w-5 h-5 shrink-0 inline" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d={config.iconPath}/>
  </svg>
  <div class="ms-3 text-sm leading-relaxed">
    {title && <span class="font-medium block">{title}</span>}
    <div class="[&>p:last-child]:mb-0">
      <slot />
    </div>
  </div>
</div>
