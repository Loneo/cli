---
interface Props {
  method: string;
  path: string;
}

const { method, path } = Astro.props;

const methodColors: Record<string, string> = {
  GET: 'text-emerald-500 bg-emerald-500/10 border-emerald-500/20',
  POST: 'text-blue-500 bg-blue-500/10 border-blue-500/20',
  PUT: 'text-amber-500 bg-amber-500/10 border-amber-500/20',
  PATCH: 'text-orange-500 bg-orange-500/10 border-orange-500/20',
  DELETE: 'text-red-500 bg-red-500/10 border-red-500/20',
};

const colorClass = methodColors[method] || methodColors.GET;
---

<div class="api-playground sticky top-24">
  <div class="rounded-lg border border-border bg-card overflow-hidden shadow-sm">
    <div class="bg-muted/30 p-3 border-b border-border flex items-center justify-between">
      <h3 class="text-sm font-medium text-foreground">API Playground</h3>
      <div class="flex gap-1.5">
        <div class="w-2.5 h-2.5 rounded-full bg-red-500/20 border border-red-500/40"></div>
        <div class="w-2.5 h-2.5 rounded-full bg-amber-500/20 border border-amber-500/40"></div>
        <div class="w-2.5 h-2.5 rounded-full bg-emerald-500/20 border border-emerald-500/40"></div>
      </div>
    </div>
    
    <div class="p-4 space-y-4">
      <div class="flex items-center gap-2 p-2 rounded bg-background border border-border">
        <span class={`px-2 py-0.5 rounded text-xs font-bold ${colorClass}`}>
          {method}
        </span>
        <code class="text-xs font-mono flex-1 text-muted-foreground">{path}</code>
        <button class="p-1 hover:bg-muted rounded text-muted-foreground transition-colors" title="Copy URL">
          <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect width="14" height="14" x="8" y="8" rx="2" ry="2"/>
            <path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>
          </svg>
        </button>
      </div>

      <div class="space-y-2">
        <label class="text-xs font-medium text-muted-foreground uppercase tracking-wider">Parameters</label>
        <div class="space-y-2">
          <div class="grid grid-cols-[1fr_auto] gap-2 items-center">
             <input type="text" placeholder="id" class="px-3 py-1.5 text-sm bg-background border border-border rounded w-full focus:ring-1 focus:ring-ring focus:border-ring outline-none transition-all" />
          </div>
        </div>
      </div>

      <button class="w-full py-2 px-4 bg-primary text-primary-foreground text-sm font-medium rounded hover:bg-primary/90 transition-all active:scale-[0.98] shadow-sm flex items-center justify-center gap-2">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polygon points="5 3 19 12 5 21 5 3"/>
        </svg>
        Send Request
      </button>
    </div>
    
    <div class="bg-muted/50 p-3 border-t border-border">
      <div class="flex items-center justify-between mb-2">
        <span class="text-xs font-medium text-muted-foreground">Response</span>
        <span class="text-[10px] px-1.5 py-0.5 rounded-full bg-emerald-500/10 text-emerald-500 border border-emerald-500/20">200 OK</span>
      </div>
      <div class="relative">
        <pre class="text-xs font-mono text-muted-foreground overflow-x-auto p-2 rounded bg-background border border-border"><code>{JSON.stringify({ 
  id: "123", 
  name: "John Doe",
  email: "john@example.com" 
}, null, 2)}</code></pre>
      </div>
    </div>
  </div>
</div>
